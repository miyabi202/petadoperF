<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://static.pingendo.com/bootstrap/bootstrap-4.3.1.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>

  <body>
    <div
      class="py-5 text-center text-white"
      style="
        background-image: linear-gradient(
            to bottom,
            rgba(227, 132, 132, 0.75),
            rgba(227, 132, 132, 0.75)
          ),
          url(https://static.pingendo.com/cover-bubble-dark.svg);
        background-position: center center, center center;
        background-size: cover, cover;
        background-repeat: repeat, repeat;
      "
    >
      <div class="container">
        <div class="row">
          <div class="mx-auto col-md-10 p-4">
            <h1 class="text-light">會員註冊表單</h1>
            <p class="mb-4 lead text-light">請填入以下註冊表單</p>
            <form>
              <div class="form-row">
                <div class="form-group col-md-4">
                  <input
                    type="text"
                    class="form-control"
                    id="firstName"
                    placeholder="Your First Name*"
                  />
                  <input
                    type="text"
                    class="form-control"
                    id="lastName"
                    placeholder="Your Last Name*"
                  />
                </div>
                <div class="form-group col-md-4">
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="Enter Email*"
                  />
                  <input
                    type="email"
                    class="form-control"
                    id="account"
                    placeholder="Create a acoount*"
                  />
                </div>
                <div class="form-group col-md-4">
                  <input
                    type="number"
                    class="form-control"
                    id="mobile"
                    placeholder="mobile Phone"
                  /><input
                    type="text"
                    class="form-control"
                    id="password"
                    placeholder="Create a password"
                  />
                </div>
              </div>
              <div class="form-group"></div>
              <div class="form-group">
                <label>請輸入地址</label
                ><input
                  type="text"
                  class="form-control"
                  id="address"
                  placeholder="enter your address*"
                />
              </div>
              <div class="form-group"></div>
              <button type="submit" id="addUser" class="submit">Send</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="py-5">
      <div class="container">
        <div class="row"></div>
      </div>
    </div>
    <script>
      function showMessage(data) {
        alert(JSON.stringify(data));
      }

      function add(evt) {
        // alert("enter already");
        evt.preventDefault();
        var dataUrl = "http://localhost:8080/members";
        var obj = {};

        obj.firstName = $("#firstName").val();

        obj.lastName = $("#lastName").val();

        obj.email = $("#email").val(); // corrected id
        obj.mobile = $("#mobile").val();
        obj.address = $("#address").val();
        obj.account = $("#account").val(); // corrected id
        obj.password = $("#password").val();
        console.log(obj);
        $.ajax({
          method: "post",
          url: dataUrl,
          contentType: "application/json",
          crossDomain: true,
          headers: {
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Methods": "GET, PUT, POST, DELETE, OPTIONS",
            "Access-Control-Allow-Headers":
              "Access-Control-Allow-Headers, Access-Control-Allow-Origin, Origin, Content-Type, Authorization, Accept",
          },
          data: JSON.stringify(obj),
          dataType: "html",
          success: showMessage,
        });
      }

      function start() {
        $("#addUser").click(add);
      }

      $(document).ready(start);
    </script>
  </body>
</html>
